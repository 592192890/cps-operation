<div ng-controller="activityEncourageAuditController ">
	<div class="main_content">
	<div class="breadcrumbs">
	    <div class="location-list">
	        <span class="location breadcrumb">您的位置：</span>
	        <ol class="breadcrumb">
	            <li>推广管理</li>
	            <li>激励管理 </li>
	            <li class="">CPS活动激励管理 </li>
	            <li class="active"> 审核激励方案 </li>
	           
	        </ol>
	    </div>
	    <div class="location-end">
	        <span>审核激励方案  </span>
	        <button style=" width: 90px;float: right;padding-bottom: 5px;margin-top: -7px;" type="button" class="btn btn-primary" ng-click="goBack();">返回</button>
	    </div>
	</div>
	    <div class="info">
	        <div class="panel panel-default">
	            <div class="panel-body">
	             <table class="table table-bordered">
	                    <tbody>
	                    <tr>
	                        <td class="td-label">编号：</td>
	                        <td class="td-value-config" style="border:1px solid #99ccff">
	                      	  {{queryResult.ruleId}}
	                        </td>
	                        
	                    </tr>
	                    <tr>
	                        <td class="td-label">名称：</td>
	                        <td class="td-value-config" style="border:1px solid #99ccff">
	                        	  {{queryResult.ruleName}}
	                        </td>
	                        
	                    </tr>
	                     <tr>
	                        <td class="td-label">激励方式：</td>
	                        <td class="td-value-config" style="border:1px solid #99ccff">
	                        	   {{encourageMethodDropList | key: 'optionKey': queryResult.encourageMethod: 'optionValue'}}
	                        </td>
	                        
	                    </tr>
	                    <tr>
	                        <td class="td-label">激励类型：</td>
	                        <td class="td-value-config" style="border:1px solid #99ccff">
	                     	   {{encourageTypeDropList | key: 'optionKey': queryResult.encourageType: 'optionValue'}}
	                        </td>
	                        
	                    </tr>
						<tr>
							<td class="td-label"><label style="color:red">*</label>激励比例：</td>
							<td class="td-value-config" style="border:1px solid #99ccff" ng-if="queryResult.encourageType!=3">
								{{queryResult.encourageRatio}}%
							</td>

							<td class="td-value-config" style="border:1px solid #99ccff" ng-if="queryResult.encourageType==3">
								<table class="table" style="margin-left: 20px;margin-top: 2px;">
									<tr ng-repeat="entity in queryResult.amountRuleList">
										<td style="border: 0px;width:76px">下限金额：</td>
										<td style="border: 0px;width:180px">
											<input type="text" style="margin-right: 5px;" ng-model="entity.amountMin" ng-readOnly = "true">元
										</td>
										<td style="border: 0px;width:56px;vertical-align:middle">比例：</td>
										<td style="border: 0px;width:170px">
											<input type="text" style="margin-right: 5px;" ng-model="entity.encourageRatio" ng-readOnly = "true">%
										</td>
										<!-- <td style="border: 0px;" >
                                               <img ng-if="$index!=0" ng-click="deleteEncourageList($index)" class="img " src="./src/web/static/images/u235.png">
                                           </td> -->
									</tr>
								</table>
							</td>

						</tr>
	                    <tr>
	                        <td class="td-label">激励开始时间：</td>
	                        <td class="td-value-config" style="border:1px solid #99ccff">
	                        	 {{queryResult.enableStartDate}}
	                        </td>
	                    </tr>
	                     <tr>
	                        <td class="td-label">激励结束时间：</td>
	                        <td class="td-value-config" style="border:1px solid #99ccff">
	                        	 {{queryResult.enableEndDate}}
	                        </td>
	                    </tr>
	                     <tr>
	                        <td class="td-label">商品使用范围：</td>
	                        <td class="td-value-config" style="border:1px solid #99ccff">
	                         {{encourageScopeDropList | key: 'optionKey': queryResult.suitableRangeProduct: 'optionValue'}}
	                         
	                        </td>
	                    </tr>
	                    </tbody>
	                </table>
	            </div>
	           </div>
	        </div>
	                
	       <div class="infoLlist" >
	        <div class="panel panel-default">
	            <div class="panel-body">
	                <table class="table">
	                   <tbody class="table-tbody">
	                    <tr ng-show="queryResult.suitableRangeProduct == 2 || queryResult.suitableRangeProduct == 3">
	                        <td class="td-label" style="text-align: left;">商品编号</td>
	                        <td class="td-value-config" style="text-align: left;border:1px solid  #ddd">
	                 		      商品名称
	                        </td>
	                    </tr>
	                    <tr ng-repeat="result in queryResult.productList">
	                        <td style="text-align: left;border:1px solid  #ddd">{{result.productSku}}</td>
	                        <td style="text-align: left;border:1px solid  #ddd">{{result.productName}}</td>
	                    </tr>
	                    <tr ng-show="queryResult.suitableRangeProduct == 2 || queryResult.suitableRangeProduct == 3">
	                        <td class="td-label"  style="text-align: left;border:1px solid  #ddd " colspan ="2">商品分类</td>
	                        </td>
	                    </tr>
	                    <tr ng-repeat="result in queryResult.cpstypeList">
	                        <td  colspan ="2" style="text-align: left;border:1px solid  #ddd ">{{result.cpstypeName}}</td>
	                    </tr>
	                    </tbody>
	                    </table>
	            </div>
	            </div>
	          </div>
	          <div class="info">
	           <div class="panel panel-default">
	            <div class="panel-body">
	             <table class="table table-bordered">
	                    <tbody>
	                    <tr>
	                        <td class="td-label">附件：</td>
	                        <td class="td-value-config" style="border:1px solid #99ccff">
	                        	  {{queryResult.fileName}}
	                        </td>
	                        
	                    </tr>
	                    <tr>
	                        <td class="td-label">状态：</td>
	                        <td class="td-value-config" style="border:1px solid #99ccff">
	                           {{encourageStatusDropList | key: 'optionKey': queryResult.ruleStatus: 'optionValue'}}
	                        </td>
	                    </tr>
	                      <tr>
	                        <td class="td-label">更新时间：</td>
	                        <td class="td-value-config" style="border:1px solid #99ccff">
	                          {{queryResult.updateDate}}
	                        </td>
	                    </tr>
	                     <tr>
	                        <td class="td-label">更新人：</td>
	                        <td class="td-value-config" style="border:1px solid #99ccff">
	                         {{queryResult.updateBy}}
	                        </td>
	                    </tr>
	                     <tr>
	                        <td class="td-label">操作：</td>
	                        <td class="td-value-config" style="border:1px solid #99ccff">
	                        	 <button type="button" class="btn btn-primary" ng-click="submit();">审核通过</button>
	                            <button type="button" class="btn btn-primary btn-follow" ng-click="submitFalse();">审核不通过</button>
	                        </td>
	                        
	                    </tr>
	                    </tbody>
	                </table>
	            </div>
	        </div>
	    </div>
	   <div class="breadcrumbs">
	   		<span>审核信息记录（数量：{{totalPages}}）  </span>
	        <button ng-show="auditHis == 1" style=" width: 90px;float: right;padding-bottom: 5px;margin-top: -7px;" type="button" class="btn btn-primary" ng-click="auditHis=0">收起</button>
	        <button ng-show="auditHis == 0" style=" width: 90px;float: right;padding-bottom: 5px;margin-top: -7px;" type="button" class="btn btn-primary" ng-click="auditHis=1">展开</button>
	   </div>
	    <div class="infoLlist" ng-show="auditHis == 1">
	        <div class="panel panel-default">
	            <div class="panel-body">
	                <table class="table">
	                    <thead class="table-header">
	                    <tr>
	                        <td>审核人</td>
	                        <td>审核时间</td>
	                        <td>审核结果</td>
	                        <td> 审核不通过原因</td>
	                    </tr>
	                    </thead>
	                    <tbody class="table-tbody">
	                    <tr ng-repeat="result in queryAuditHisResult">
	                        <td>{{result.userName}}</td>
	                        <td>{{result.createTime}}</td>
	                        <td>
	                        	{{auditResultDropList | key: 'optionKey': result.result: 'optionValue'}}
	                        </td>
	                        <td>{{result.remark}}</td>
	                    </tr>
	                    </tbody>
	                </table>
	                 <div class="location-page">
	                    <el-paging total="totalPages" size="{{pageSize}}" index="pageIndex"
	                               searcher="doPagingSearch" />
	                </div>
	            </div>
	        </div>
	    </div>
	</div>
	<el-content-confirm confirm="noPassReason" title="审核不通过" msg="请选择原因：" ng-model="noPassAuditReasonArr">
</div>